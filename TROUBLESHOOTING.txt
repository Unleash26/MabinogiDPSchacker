Mabinogi Damage Tracker - トラブルシューティング

もしアプリケーションが起動しない（黒い画面が出ない、コマンドプロンプトが出た後すぐに終了する、または「ユーザーによって取り消されました」というエラーが出る）場合は、以下の手順を確認してください。

0. ZIPファイルのブロック解除（最重要！）
「The operation was canceled by the user」エラーが出る場合、これはWindowsのセキュリティ機能によるブロックです。
ダウンロードしたZIPファイルを右クリックし、「プロパティ」を開き、下部にある「セキュリティ: このファイルは他のコンピューターから取得したものです...」の横にある **「許可する」または「ブロックを解除」** にチェックを入れてから、再度解凍してください。

1. WebView2 ランタイムのインストール
このアプリケーションは画面表示に「Microsoft Edge WebView2」を使用しています。
Windows 10/11の最新版には含まれていますが、環境によってはインストールが必要です。

以下のリンクから「Evergreen Bootstrapper」をダウンロードしてインストールしてください：
https://developer.microsoft.com/en-us/microsoft-edge/webview2/#download-section

2. Visual C++ 再頒布可能パッケージのインストール
WebView2の動作には「Visual C++ Redistributable」が必要です。
以下のリンクから「x64」版をダウンロードしてインストールしてください：
https://learn.microsoft.com/ja-jp/cpp/windows/latest-supported-vc-redist?view=msvc-170

3. ウイルス対策ソフトの確認
個人開発の署名なしアプリケーションのため、ウイルス対策ソフトによってブロックされることがあります。
「Mabinogi_Damage_Tracker.Server.exe」および「OverlayApp.exe」を例外設定に追加してください。

4. 直接起動してみる
「OverlayApp.exe」を直接ダブルクリックして実行してみてください。
エラーメッセージが表示される場合は、その内容を開発者に報告してください。

5. 【重要】MTU（回線設定）について
マビノギの回線最適化設定（MTU値の変更）を極端に行っている場合、計測が正常にできないことがあります。

- MTU 1456 程度（標準的な最適化）: **問題ありません**
- MTU 1000 以下（極端な設定）: **計測できません**（ダメージが半分になったり、全く出なくなります）

原理的に、MTUが低すぎるとパケットが細切れになりすぎてしまい、ツールのキャプチャ機能（WinPcap/Npcap）がデータを正しく拾えなくなります。
「ダメージが出ない」「自分だけ少ない」という場合は、一度MTUの設定を標準（1500）または1456程度に戻してお試しください。
